@mixin spinner-animation {
  animation: spinner-animation $spinner-animation-duration infinite;
}

@mixin spinner-size($config) {
  @if map_has_key($config, size) {
    height: map_get($config, size);
    width: map_get($config, size);
  }

  @if map_has_key($config, border-width) {
    &::after {
      border-width: map_get($config, border-width);
    }
  }
}

@mixin spin-ring-sizes {
  @each $name, $config in $spinner-ring-sizes {
    @if $name == 'default' {
      @include spinner-size($config);
    } @else {
      &--#{$name} {
        @include spinner-size($config);
      }
    }
  }
}

@mixin spin-inside-button {
  .neo-btn > & {
    color: inherit;
    margin-right: $global-spacer-small;

    @include rtl-selector {
      margin: {
        left: $global-spacer-small;
        right: initial;
      }
    }

    @include spinner-size(
      (
        size: 18px,
      )
    );
  }
}

@mixin different-sizes {
  @each $name, $config in $spinner-ring-sizes {
    @if $name == 'default' {
      @include spinner-size($config);
    } @else {
      &--#{$name} {
        @include spinner-size($config);
      }
    }
  }
}

// Spinner
@mixin neo-spinner {
  color: $spinner-ring-color;
  display: inline-block;
  position: relative;
  vertical-align: middle;

  &::after {
    background: center center no-repeat;
    background-size: cover;
    border-color: currentColor currentColor currentColor transparent;
    border-radius: 50%;
    border-style: solid;
    box-sizing: border-box;
    content: ' ';
    display: inline-block;
    height: 100%;
    margin: auto;
    width: 100%;
    @include position(absolute, 0, 0, 0, 0);
  }

  .neo-btn > & {
    color: inherit;
    margin-right: $global-spacer;

    @include rtl-selector {
      margin: {
        left: $global-spacer;
        right: initial;
      }
    }

    @include spinner-size(
      (
        size: $spinner-button-size,
      )
    );
  }

  @include spinner-animation;
  @include different-sizes;
}

.neo-spinner {
  @include neo-spinner;
}

// updated styles

@mixin spinner-animation-update {
  animation: spinner-animation $spinner-animation-duration-update infinite;
}

@mixin spinner-size-update($config) {
  @if map_has_key($config, size) {
    height: map_get($config, size);
    width: map_get($config, size);
  }

  @if map_has_key($config, border-width) {
    &::after {
      border-width: map_get($config, border-width);
    }
  }
}

@mixin spin-ring-sizes-update {
  @each $name, $config in $spinner-ring-sizes-update {
    @if $name == 'default' {
      @include spinner-size-update($config);
    } @else {
      &--#{$name} {
        @include spinner-size-update($config);
      }
    }
  }
}

@mixin spin-inside-button-update {
  .neo-btn-update > & {
    color: inherit;
    margin-right: $global-spacer-small;

    @include rtl-selector {
      margin: {
        left: $global-spacer-small;
        right: initial;
      }
    }

    @include spinner-size-update(
      (
        size: 18px,
      )
    );
  }
}

@mixin different-sizes-update {
  @each $name, $config in $spinner-ring-sizes-update {
    @if $name == 'default' {
      @include spinner-size-update($config);
    } @else {
      &--#{$name} {
        @include spinner-size-update($config);
      }
    }
  }
}

// Spinner
@mixin neo-spinner-update {
  color: $spinner-ring-color-update;
  display: inline-block;
  position: relative;
  vertical-align: middle;

  &::after {
    background: center center no-repeat;
    background-size: cover;
    border-color: currentColor currentColor currentColor transparent;
    border-radius: 50%;
    border-style: solid;
    box-sizing: border-box;
    content: ' ';
    display: inline-block;
    height: 100%;
    margin: auto;
    width: 100%;
    @include position(absolute, 0, 0, 0, 0);
  }

  .neo-btn-update > & {
    color: inherit;
    margin-right: $global-spacer;

    @include rtl-selector {
      margin: {
        left: $global-spacer;
        right: initial;
      }
    }

    @include spinner-size-update(
      (
        size: $spinner-button-size,
      )
    );
  }

  @include spinner-animation-update;
  @include different-sizes-update;
}

.neo-spinner-update {
  @include neo-spinner-update;
}
