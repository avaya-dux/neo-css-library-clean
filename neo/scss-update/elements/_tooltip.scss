%tooltip {
  animation: show-element $tooltip-animation-duration;
  background: $tooltip-background;
  border-radius: $tooltip-border-radius;
  color: $tooltip-color;
  content: attr(data-tooltip);
  display: none;
  font-size: $tooltip-text-size;
  font-weight: normal;
  line-height: normal;
  max-width: $tooltip-width;
  overflow: hidden;
  padding: $tooltip-padding;
  pointer-events: none;
  text-align: center;
  text-indent: 0;
  text-overflow: ellipsis;
  white-space: nowrap;
  word-break: keep-all;
  z-index: $tooltip-z;
}

@mixin tooltip {
  &::after {
    @extend %tooltip;
    margin-bottom: auto;
    margin-top: -$tooltip-offset;
    transform: translate(-50%, -100%);
    @include position(absolute, 0, auto, auto, 50%);
  }
}

@mixin tooltip-wrapper {
  .neo-tooltip {
    line-height: 0;
    position: static;

    &::after {
      display: block;
    }
  }
}

@mixin tooltip-multiline {
  &.neo-tooltip--multiline {
    &::after {
      text-overflow: clip;
      white-space: pre-line;
      width: max-content;
      word-break: keep-all;
      word-wrap: normal;
    }
  }
}

@mixin tooltip-color {
  @each $name, $color in $neo-state-colors {
    &.neo-tooltip--#{$name} {
      &::after {
        background: $color;
        color: $neo-white;
      }
    }
  }
}

@mixin tooltip-right-position {
  &.neo-tooltip--right::after {
    transform: translate(100%, 50%);
    @include position(absolute, auto, -$tooltip-offset, 50%, auto);
  }
}
@mixin tooltip-bottom-position {
  &.neo-tooltip--bottom::after {
    transform: translate(-50%, 100%);
    @include position(absolute, auto, auto, -$tooltip-offset, 50%);
  }
}
@mixin tooltip-left-position {
  &.neo-tooltip--left::after {
    transform: translate(-100%, 50%);
    @include position(absolute, auto, auto, 50%, -$tooltip-offset);
  }
}

// Uses for normal elements (that doesnâ€™t have styles on after and before)
.neo-tooltip[data-tooltip]:not([data-tooltip='']) {
  position: relative;

  &:hover::after {
    display: block;
  }

  @include tooltip;
  // Makes tooltip multilined
  @include tooltip-multiline;

  // Changes color of tooltip
  @include tooltip-color;
  @include tooltip-right-position;
  @include tooltip-bottom-position;
  @include tooltip-left-position;
}

.neo-tooltip-wrapper {
  position: relative;

  &:hover {
    @include tooltip-wrapper;
  }
}

// new tooltip-class

// New tooltip mixins

@mixin neo-tooltip-update-content(
  $animation-duration: $popover-animation-duration,
  $content-background-color: $popover-content-background-color,
  $content-border: $popover-content-border,
  $radius: $popover-radius,
  $content-shadow: $popover-content-shadow,
  $content-padding: $popover-content-padding,
  $content-z: $popover-content-z,
  $content-min-width: $popover-min-width
) {
  &__content {
    animation: show-element $animation-duration;
    background-color: $tooltip-background-update;
    color: $tooltip-color-update;
    border: $content-border;
    border-radius: $radius;
    box-shadow: $content-shadow;
    display: none;
    left: 0;
    margin: 0;
    min-width: $content-min-width;
    padding: $tooltip-padding-update;
    position: absolute;
    top: 100%;
    z-index: $content-z;
    text-align: center;

    .neo-tooltip-update--right & .neo-arrow-update::before {
      border-right-color: $tooltip-background-update !important;
      // hard-coded arrow styles
      border-width: $arrow-border-width-update;
      bottom: -8px;
      right: 31px;
    }

    .neo-tooltip-update--right & .neo-arrow-update::after {
      border-color: transparent !important;
      border-right-color: $tooltip-background-update !important;
    }

    .neo-tooltip-update--up & .neo-arrow-update::before {
      border-bottom-color: $tooltip-background-update !important;
      // hard-coded arrow styles
      border-width: $arrow-border-width-update;
      bottom: -32px;
      right: -50px;
      transform: rotate(180deg);
    }

    .neo-tooltip-update--up & .neo-arrow-update::after {
      border-color: transparent !important;
      border-top-color: $tooltip-background-update !important;
    }

    .neo-tooltip-update--left & .neo-arrow-update::before {
      border-left-color: $tooltip-background-update !important;
      // hard-coded arrow styles
      border-width: $arrow-border-width-update;
      bottom: -9px;
      right: -133px;
      transform: rotate(0deg);
    }

    .neo-tooltip-update--left & .neo-arrow-update::after {
      border-color: transparent !important;
      border-left-color: $tooltip-background-update !important;
    }

    .neo-tooltip-update--down & .neo-arrow-update::before {
      border-top-color: $tooltip-background-update !important;
      // hard-coded arrow styles
      border-width: $arrow-border-width-update;
      bottom: 14px;
      right: -51px;
      transform: rotate(180deg);
    }

    .neo-tooltip-update--down & .neo-arrow-update::after {
      border-color: transparent !important;
      border-bottom-color: $tooltip-background-update !important;
    }

    @include rtl-selector {
      left: initial;
      right: 0;
    }
  }
}

@mixin neo-tooltip-update-states {
  &--onhover:hover > &__content,
  &--active > &__content {
    display: block;
    position: absolute;
  }
}

%neo-tooltip-update {
  box-sizing: border-box;
  display: inline-block;
  position: relative;
  background-color: red;
  width: $tooltip-width-update;
  font-size: $tooltip-font-size-update;
  padding: $tooltip-padding-update;
}

.neo-tooltip-update {
  @extend %neo-popover-update;

  @include neo-tooltip-update-content;
  @include neo-tooltip-update-states;
  @include neo-position(&);
}
